2024-09-18 10:08:18,953 - api.v1.endpoints.example_post - INFO - Received request with data: 大樓工程中的假設工程中的子工程，施工便道工程需要的檢查表有哪些？
2024-09-18 10:08:19,163 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'api-key': 'b6133f8c130a4d659443d29871845c80'}, 'files': None, 'json_data': {'messages': [{'content': '請你將使用者輸入的字串提取關鍵字，請不要更改句子中的字，以下是範例 \n                Example1:\n                    使用者:"大樓工程中的假設工程中的子工程，基地整地需要的一般其他類檢查標準有哪些？"\n                    關鍵字: [\'大樓工程\', \'假設工程\', \'基地整地\', \'一般其他類\']\n                Example2:\n                    使用者:"大樓工程中的假設工程中的子工程，施工便道工程需要的墜落防止檢查標準有哪些？"\n                    關鍵字: [\'大樓工程\', \'假設工程\', \'施工便道工程\', \'墜落防止\']\n                Example3:\n                    使用者:"大樓工程中的假設工程，需要做的子工程順序？"\n                    關鍵字: [\'大樓工程\', \'假設工程\', \'施工便道工程\', \'墜落防止\']\n                Example4:\n                    使用者:"大樓工程中的假設工程中的子工程，支撐架需要的檢查表有哪些？"\n                    關鍵字: [\'大樓工程\', \'假設工程\', \'支撐架\']\n                Example5:\n                    使用者:"在大樓工程中的假設工程，哪些工程需要類別為環境保護的檢查標準?"\n                    關鍵字: [\'大樓工程\', \'假設工程\', \'環境保護\']\n                , 請將關鍵字以list形式輸出，只要輸出list就好', 'role': 'system'}, {'content': '大樓工程中的假設工程中的子工程，施工便道工程需要的檢查表有哪些？', 'role': 'user'}], 'model': 'gpt-3.5-turbo', 'logprobs': False, 'n': 1, 'stream': False, 'temperature': 0.3}}
2024-09-18 10:08:19,204 - openai._base_client - DEBUG - Sending HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01
2024-09-18 10:08:19,206 - httpcore.connection - DEBUG - connect_tcp.started host='generevo-eastus-oai.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2024-09-18 10:08:21,531 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1185e2960>
2024-09-18 10:08:21,532 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x114c092d0> server_hostname='generevo-eastus-oai.openai.azure.com' timeout=None
2024-09-18 10:08:22,665 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1185e2330>
2024-09-18 10:08:22,666 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-09-18 10:08:22,667 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-09-18 10:08:22,667 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-09-18 10:08:22,667 - httpcore.http11 - DEBUG - send_request_body.complete
2024-09-18 10:08:22,667 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-09-18 10:08:24,194 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1023'), (b'Content-Type', b'application/json'), (b'x-ms-region', b'East US'), (b'apim-request-id', b'a1b1a01d-24f7-45b5-8ebd-08bc01c0f855'), (b'x-ratelimit-remaining-requests', b'9'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'45ef20e3-385c-4367-9a1b-e773d14517d4'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'azureml-model-session', b'd052-20240903053930'), (b'x-content-type-options', b'nosniff'), (b'x-envoy-upstream-service-time', b'249'), (b'x-ms-client-request-id', b'a1b1a01d-24f7-45b5-8ebd-08bc01c0f855'), (b'x-ratelimit-remaining-tokens', b'7678'), (b'Date', b'Wed, 18 Sep 2024 02:08:22 GMT')])
2024-09-18 10:08:24,196 - httpx - INFO - HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2024-09-18 10:08:24,196 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-09-18 10:08:24,197 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-09-18 10:08:24,197 - httpcore.http11 - DEBUG - response_closed.started
2024-09-18 10:08:24,197 - httpcore.http11 - DEBUG - response_closed.complete
2024-09-18 10:08:24,197 - openai._base_client - DEBUG - HTTP Response: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "200 OK" Headers({'content-length': '1023', 'content-type': 'application/json', 'x-ms-region': 'East US', 'apim-request-id': 'a1b1a01d-24f7-45b5-8ebd-08bc01c0f855', 'x-ratelimit-remaining-requests': '9', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '45ef20e3-385c-4367-9a1b-e773d14517d4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'azureml-model-session': 'd052-20240903053930', 'x-content-type-options': 'nosniff', 'x-envoy-upstream-service-time': '249', 'x-ms-client-request-id': 'a1b1a01d-24f7-45b5-8ebd-08bc01c0f855', 'x-ratelimit-remaining-tokens': '7678', 'date': 'Wed, 18 Sep 2024 02:08:22 GMT'})
2024-09-18 10:08:24,197 - openai._base_client - DEBUG - request_id: 45ef20e3-385c-4367-9a1b-e773d14517d4
2024-09-18 10:08:24,222 - api.v1.endpoints.example_post - ERROR - Error during processing: 'SQLDatabase' object has no attribute 'get_tools'
