2024-08-02 15:41:02,181 - app.api.v1.endpoints.example_post - INFO - Received request with data: [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]
2024-08-02 15:41:02,245 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'api-key': 'b6133f8c130a4d659443d29871845c80'}, 'files': None, 'json_data': {'messages': [{'content': "請您擔任一名客戶成功經理，我將提供您提供一段客戶與客服的對話。你需要從對話中擷取出重要的客戶訊息，將原始訊息簡化並概述為關鍵訊息，請提取關鍵標籤，也就是訊息中的重點，假設無法辨認訊息，或是惡作劇訊息，請在'category'輸出'無法辨識訊息'。\n    將結果以 JSON 格式輸出，key為'labels'，其中'labels'可能包含多個訊息，每個訊息使用一個 object，並包含兩個 keys：'message' 和 'category'。\n    ", 'role': 'system'}, {'content': " 對話內容： [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]", 'role': 'user'}], 'model': 'gpt-3.5-turbo', 'logprobs': False, 'n': 1, 'stream': False, 'temperature': 0.3}}
2024-08-02 15:41:02,322 - openai._base_client - DEBUG - Sending HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01
2024-08-02 15:41:02,325 - httpcore.connection - DEBUG - connect_tcp.started host='generevo-eastus-oai.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2024-08-02 15:41:02,618 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a69b260>
2024-08-02 15:41:02,619 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x109c594d0> server_hostname='generevo-eastus-oai.openai.azure.com' timeout=None
2024-08-02 15:41:03,033 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10d3c84d0>
2024-08-02 15:41:03,034 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-08-02 15:41:03,035 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-08-02 15:41:03,035 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-08-02 15:41:03,036 - httpcore.http11 - DEBUG - send_request_body.complete
2024-08-02 15:41:03,036 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-08-02 15:41:05,180 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1408'), (b'Content-Type', b'application/json'), (b'x-ms-region', b'East US'), (b'apim-request-id', b'4bd7d1da-1c2c-4149-b2f4-46ab06882b81'), (b'x-ratelimit-remaining-requests', b'9'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'dd291df9-667b-4c4d-a7ff-828d9c520e05'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'azureml-model-session', b'd023-20240717022614'), (b'x-content-type-options', b'nosniff'), (b'x-envoy-upstream-service-time', b'1935'), (b'x-ms-client-request-id', b'4bd7d1da-1c2c-4149-b2f4-46ab06882b81'), (b'x-ratelimit-remaining-tokens', b'9224'), (b'Date', b'Fri, 02 Aug 2024 07:41:04 GMT')])
2024-08-02 15:41:05,182 - httpx - INFO - HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2024-08-02 15:41:05,182 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-08-02 15:41:05,183 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-08-02 15:41:05,183 - httpcore.http11 - DEBUG - response_closed.started
2024-08-02 15:41:05,183 - httpcore.http11 - DEBUG - response_closed.complete
2024-08-02 15:41:05,183 - openai._base_client - DEBUG - HTTP Response: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "200 OK" Headers({'content-length': '1408', 'content-type': 'application/json', 'x-ms-region': 'East US', 'apim-request-id': '4bd7d1da-1c2c-4149-b2f4-46ab06882b81', 'x-ratelimit-remaining-requests': '9', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'dd291df9-667b-4c4d-a7ff-828d9c520e05', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'azureml-model-session': 'd023-20240717022614', 'x-content-type-options': 'nosniff', 'x-envoy-upstream-service-time': '1935', 'x-ms-client-request-id': '4bd7d1da-1c2c-4149-b2f4-46ab06882b81', 'x-ratelimit-remaining-tokens': '9224', 'date': 'Fri, 02 Aug 2024 07:41:04 GMT'})
2024-08-02 15:41:05,184 - openai._base_client - DEBUG - request_id: dd291df9-667b-4c4d-a7ff-828d9c520e05
2024-08-02 16:14:36,287 - httpcore.connection - DEBUG - close.started
2024-08-02 16:14:36,289 - httpcore.connection - DEBUG - close.complete
