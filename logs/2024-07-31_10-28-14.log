2024-07-31 10:28:30,783 - app.api.v1.endpoints.example_post - INFO - Received request with data: [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]
2024-07-31 10:28:30,820 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'api-key': 'b6133f8c130a4d659443d29871845c80'}, 'files': None, 'json_data': {'messages': [{'content': "請將以下customer與agent的對話進行分類，將客戶進線訊息分為客服或客訴或業務或其他，請回答以上四種其中之一，用純JSON的格式，key為'分類結果'，答案請回答['客服', '客訴', '業務', '其他']其中之一。", 'role': 'system'}, {'content': " 對話內容： [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]", 'role': 'user'}], 'model': 'gpt-3.5-turbo', 'logprobs': False, 'n': 1, 'stream': False, 'temperature': 0.3}}
2024-07-31 10:28:30,862 - openai._base_client - DEBUG - Sending HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01
2024-07-31 10:28:30,864 - httpcore.connection - DEBUG - connect_tcp.started host='generevo-eastus-oai.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2024-07-31 10:28:31,183 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10ce131a0>
2024-07-31 10:28:31,184 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1095a33d0> server_hostname='generevo-eastus-oai.openai.azure.com' timeout=None
2024-07-31 10:28:31,803 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10ce13bf0>
2024-07-31 10:28:31,804 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-07-31 10:28:31,804 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-07-31 10:28:31,805 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-07-31 10:28:31,805 - httpcore.http11 - DEBUG - send_request_body.complete
2024-07-31 10:28:31,806 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-07-31 10:28:32,321 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'881'), (b'Content-Type', b'application/json'), (b'x-ms-region', b'East US'), (b'apim-request-id', b'a5de7180-502b-4d1a-bce3-286b7f635e65'), (b'x-ratelimit-remaining-requests', b'9'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'bdab5fd7-cb65-40b9-b91c-1df585274694'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'azureml-model-session', b'd024-20240717031609'), (b'x-content-type-options', b'nosniff'), (b'x-envoy-upstream-service-time', b'292'), (b'x-ms-client-request-id', b'a5de7180-502b-4d1a-bce3-286b7f635e65'), (b'x-ratelimit-remaining-tokens', b'9253'), (b'Date', b'Wed, 31 Jul 2024 02:28:32 GMT')])
2024-07-31 10:28:32,323 - httpx - INFO - HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2024-07-31 10:28:32,323 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-07-31 10:28:32,323 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-07-31 10:28:32,324 - httpcore.http11 - DEBUG - response_closed.started
2024-07-31 10:28:32,324 - httpcore.http11 - DEBUG - response_closed.complete
2024-07-31 10:28:32,324 - openai._base_client - DEBUG - HTTP Response: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "200 OK" Headers({'content-length': '881', 'content-type': 'application/json', 'x-ms-region': 'East US', 'apim-request-id': 'a5de7180-502b-4d1a-bce3-286b7f635e65', 'x-ratelimit-remaining-requests': '9', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'bdab5fd7-cb65-40b9-b91c-1df585274694', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'azureml-model-session': 'd024-20240717031609', 'x-content-type-options': 'nosniff', 'x-envoy-upstream-service-time': '292', 'x-ms-client-request-id': 'a5de7180-502b-4d1a-bce3-286b7f635e65', 'x-ratelimit-remaining-tokens': '9253', 'date': 'Wed, 31 Jul 2024 02:28:32 GMT'})
2024-07-31 10:28:32,324 - openai._base_client - DEBUG - request_id: bdab5fd7-cb65-40b9-b91c-1df585274694
2024-07-31 10:28:36,584 - app.api.v1.endpoints.example_post - INFO - Received request with data: [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]
2024-07-31 10:28:36,602 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'api-key': 'b6133f8c130a4d659443d29871845c80'}, 'files': None, 'json_data': {'messages': [{'content': "請將以下customer與agent的對話進行分類，將客戶進線訊息分為客服或客訴或業務或其他，請回答以上四種其中之一，用純JSON的格式，key為'分類結果'，答案請回答['客服', '客訴', '業務', '其他']其中之一。", 'role': 'system'}, {'content': " 對話內容： [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]", 'role': 'user'}], 'model': 'gpt-3.5-turbo', 'logprobs': False, 'n': 1, 'stream': False, 'temperature': 0.3}}
2024-07-31 10:28:36,602 - openai._base_client - DEBUG - Sending HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01
2024-07-31 10:28:36,603 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-07-31 10:28:36,603 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-07-31 10:28:36,603 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-07-31 10:28:36,604 - httpcore.http11 - DEBUG - send_request_body.complete
2024-07-31 10:28:36,604 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-07-31 10:28:37,117 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'895'), (b'Content-Type', b'application/json'), (b'x-ms-region', b'East US'), (b'apim-request-id', b'df8457c9-18e1-43b4-a897-4a0579c39bd4'), (b'x-ratelimit-remaining-requests', b'8'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'c5d2092b-913a-42c2-9cfc-512658bfdbe8'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'azureml-model-session', b'd025-20240717040626'), (b'x-content-type-options', b'nosniff'), (b'x-envoy-upstream-service-time', b'294'), (b'x-ms-client-request-id', b'df8457c9-18e1-43b4-a897-4a0579c39bd4'), (b'x-ratelimit-remaining-tokens', b'8506'), (b'Date', b'Wed, 31 Jul 2024 02:28:36 GMT')])
2024-07-31 10:28:37,117 - httpx - INFO - HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2024-07-31 10:28:37,118 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-07-31 10:28:37,118 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-07-31 10:28:37,118 - httpcore.http11 - DEBUG - response_closed.started
2024-07-31 10:28:37,118 - httpcore.http11 - DEBUG - response_closed.complete
2024-07-31 10:28:37,118 - openai._base_client - DEBUG - HTTP Response: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "200 OK" Headers({'content-length': '895', 'content-type': 'application/json', 'x-ms-region': 'East US', 'apim-request-id': 'df8457c9-18e1-43b4-a897-4a0579c39bd4', 'x-ratelimit-remaining-requests': '8', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'c5d2092b-913a-42c2-9cfc-512658bfdbe8', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'azureml-model-session': 'd025-20240717040626', 'x-content-type-options': 'nosniff', 'x-envoy-upstream-service-time': '294', 'x-ms-client-request-id': 'df8457c9-18e1-43b4-a897-4a0579c39bd4', 'x-ratelimit-remaining-tokens': '8506', 'date': 'Wed, 31 Jul 2024 02:28:36 GMT'})
2024-07-31 10:28:37,118 - openai._base_client - DEBUG - request_id: c5d2092b-913a-42c2-9cfc-512658bfdbe8
2024-07-31 10:28:44,652 - app.api.v1.endpoints.example_post - INFO - Received request with data: [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]
2024-07-31 10:28:44,694 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'api-key': 'b6133f8c130a4d659443d29871845c80'}, 'files': None, 'json_data': {'messages': [{'content': "請您擔任一名客戶成功經理，我將提供您提供一段客戶與客服的對話。你需要從對話中擷取出重要的客戶訊息，將原始訊息簡化並概述為關鍵訊息，請提取關鍵標籤，也就是訊息中的重點，假設無法辨認訊息，或是惡作劇訊息，請在'category'輸出'無法辨識訊息'。\n    將結果以 JSON 格式輸出，key為'labels'，其中'labels'可能包含多個訊息，每個訊息使用一個 object，並包含兩個 keys：'message' 和 'category'。\n    ", 'role': 'system'}, {'content': " 對話內容： [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]", 'role': 'user'}], 'model': 'gpt-3.5-turbo', 'logprobs': False, 'n': 1, 'stream': False, 'temperature': 0.3}}
2024-07-31 10:28:44,698 - openai._base_client - DEBUG - Sending HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01
2024-07-31 10:28:44,698 - httpcore.connection - DEBUG - connect_tcp.started host='generevo-eastus-oai.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2024-07-31 10:28:45,007 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10cf05910>
2024-07-31 10:28:45,007 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1095d9d50> server_hostname='generevo-eastus-oai.openai.azure.com' timeout=None
2024-07-31 10:28:45,626 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x108f22720>
2024-07-31 10:28:45,627 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-07-31 10:28:45,627 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-07-31 10:28:45,627 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-07-31 10:28:45,628 - httpcore.http11 - DEBUG - send_request_body.complete
2024-07-31 10:28:45,628 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-07-31 10:28:46,851 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1360'), (b'Content-Type', b'application/json'), (b'x-ms-region', b'East US'), (b'apim-request-id', b'8f167ec8-0113-497f-aac1-6172d8d85eb5'), (b'x-ratelimit-remaining-requests', b'8'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'bea6fba4-9c05-413b-96b2-f1a3e9c38320'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'azureml-model-session', b'd036-20240717160519'), (b'x-content-type-options', b'nosniff'), (b'x-envoy-upstream-service-time', b'980'), (b'x-ms-client-request-id', b'8f167ec8-0113-497f-aac1-6172d8d85eb5'), (b'x-ratelimit-remaining-tokens', b'7730'), (b'Date', b'Wed, 31 Jul 2024 02:28:46 GMT')])
2024-07-31 10:28:46,852 - httpx - INFO - HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2024-07-31 10:28:46,852 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-07-31 10:28:46,853 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-07-31 10:28:46,853 - httpcore.http11 - DEBUG - response_closed.started
2024-07-31 10:28:46,853 - httpcore.http11 - DEBUG - response_closed.complete
2024-07-31 10:28:46,853 - openai._base_client - DEBUG - HTTP Response: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "200 OK" Headers({'content-length': '1360', 'content-type': 'application/json', 'x-ms-region': 'East US', 'apim-request-id': '8f167ec8-0113-497f-aac1-6172d8d85eb5', 'x-ratelimit-remaining-requests': '8', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'bea6fba4-9c05-413b-96b2-f1a3e9c38320', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'azureml-model-session': 'd036-20240717160519', 'x-content-type-options': 'nosniff', 'x-envoy-upstream-service-time': '980', 'x-ms-client-request-id': '8f167ec8-0113-497f-aac1-6172d8d85eb5', 'x-ratelimit-remaining-tokens': '7730', 'date': 'Wed, 31 Jul 2024 02:28:46 GMT'})
2024-07-31 10:28:46,854 - openai._base_client - DEBUG - request_id: bea6fba4-9c05-413b-96b2-f1a3e9c38320
2024-07-31 10:28:54,243 - app.api.v1.endpoints.example_post - INFO - Received request with data: [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]
2024-07-31 10:28:54,258 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'api-key': 'b6133f8c130a4d659443d29871845c80'}, 'files': None, 'json_data': {'messages': [{'content': "請您擔任一名客戶成功經理，我將提供您提供一段客戶與客服的對話。你需要從對話中擷取出重要的客戶訊息，將原始訊息簡化並概述為關鍵訊息，請提取關鍵標籤，也就是訊息中的重點，假設無法辨認訊息，或是惡作劇訊息，請在'category'輸出'無法辨識訊息'。\n    將結果以 JSON 格式輸出，key為'labels'，其中'labels'可能包含多個訊息，每個訊息使用一個 object，並包含兩個 keys：'message' 和 'category'。\n    ", 'role': 'system'}, {'content': " 對話內容： [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]", 'role': 'user'}], 'model': 'gpt-3.5-turbo', 'logprobs': False, 'n': 1, 'stream': False, 'temperature': 0.3}}
2024-07-31 10:28:54,259 - openai._base_client - DEBUG - Sending HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01
2024-07-31 10:28:54,260 - httpcore.connection - DEBUG - close.started
2024-07-31 10:28:54,262 - httpcore.connection - DEBUG - close.complete
2024-07-31 10:28:54,264 - httpcore.connection - DEBUG - connect_tcp.started host='generevo-eastus-oai.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2024-07-31 10:28:54,533 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10cf05640>
2024-07-31 10:28:54,533 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1095d9d50> server_hostname='generevo-eastus-oai.openai.azure.com' timeout=None
2024-07-31 10:28:55,151 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10cf05c10>
2024-07-31 10:28:55,151 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-07-31 10:28:55,152 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-07-31 10:28:55,152 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-07-31 10:28:55,152 - httpcore.http11 - DEBUG - send_request_body.complete
2024-07-31 10:28:55,152 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-07-31 10:28:57,015 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1408'), (b'Content-Type', b'application/json'), (b'x-ms-region', b'East US'), (b'apim-request-id', b'8ad698ac-cb77-4517-afb7-18dad40ed584'), (b'x-ratelimit-remaining-requests', b'8'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'56fe990c-7a9b-4750-b5b5-28a7823ed413'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'azureml-model-session', b'd044-20240717234650'), (b'x-content-type-options', b'nosniff'), (b'x-envoy-upstream-service-time', b'1505'), (b'x-ms-client-request-id', b'8ad698ac-cb77-4517-afb7-18dad40ed584'), (b'x-ratelimit-remaining-tokens', b'6954'), (b'Date', b'Wed, 31 Jul 2024 02:28:56 GMT')])
2024-07-31 10:28:57,016 - httpx - INFO - HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2024-07-31 10:28:57,016 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-07-31 10:28:57,017 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-07-31 10:28:57,017 - httpcore.http11 - DEBUG - response_closed.started
2024-07-31 10:28:57,017 - httpcore.http11 - DEBUG - response_closed.complete
2024-07-31 10:28:57,017 - openai._base_client - DEBUG - HTTP Response: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "200 OK" Headers({'content-length': '1408', 'content-type': 'application/json', 'x-ms-region': 'East US', 'apim-request-id': '8ad698ac-cb77-4517-afb7-18dad40ed584', 'x-ratelimit-remaining-requests': '8', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '56fe990c-7a9b-4750-b5b5-28a7823ed413', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'azureml-model-session': 'd044-20240717234650', 'x-content-type-options': 'nosniff', 'x-envoy-upstream-service-time': '1505', 'x-ms-client-request-id': '8ad698ac-cb77-4517-afb7-18dad40ed584', 'x-ratelimit-remaining-tokens': '6954', 'date': 'Wed, 31 Jul 2024 02:28:56 GMT'})
2024-07-31 10:28:57,017 - openai._base_client - DEBUG - request_id: 56fe990c-7a9b-4750-b5b5-28a7823ed413
2024-07-31 10:29:04,276 - app.api.v1.endpoints.example_post - INFO - Received request with data: [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]
2024-07-31 10:29:04,288 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'api-key': 'b6133f8c130a4d659443d29871845c80'}, 'files': None, 'json_data': {'messages': [{'content': "請您擔任一名客戶成功經理，我將提供您提供一段客戶與客服的對話。你需要從對話中擷取出重要的客戶訊息，將原始訊息簡化並概述為關鍵訊息，請提取關鍵標籤，也就是訊息中的重點，假設無法辨認訊息，或是惡作劇訊息，請在'category'輸出'無法辨識訊息'。\n    將結果以 JSON 格式輸出，key為'labels'，其中'labels'可能包含多個訊息，每個訊息使用一個 object，並包含兩個 keys：'message' 和 'category'。\n    ", 'role': 'system'}, {'content': " 對話內容： [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]", 'role': 'user'}], 'model': 'gpt-3.5-turbo', 'logprobs': False, 'n': 1, 'stream': False, 'temperature': 0.3}}
2024-07-31 10:29:04,289 - openai._base_client - DEBUG - Sending HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01
2024-07-31 10:29:04,289 - httpcore.connection - DEBUG - close.started
2024-07-31 10:29:04,290 - httpcore.connection - DEBUG - close.complete
2024-07-31 10:29:04,291 - httpcore.connection - DEBUG - connect_tcp.started host='generevo-eastus-oai.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2024-07-31 10:29:04,564 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10cf08e30>
2024-07-31 10:29:04,565 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1095d9d50> server_hostname='generevo-eastus-oai.openai.azure.com' timeout=None
2024-07-31 10:29:04,985 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10cf08710>
2024-07-31 10:29:04,986 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-07-31 10:29:04,986 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-07-31 10:29:04,986 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-07-31 10:29:04,986 - httpcore.http11 - DEBUG - send_request_body.complete
2024-07-31 10:29:04,986 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-07-31 10:29:07,746 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1408'), (b'Content-Type', b'application/json'), (b'x-ms-region', b'East US'), (b'apim-request-id', b'82cfa004-b2f2-4c9f-a6b9-e7a39f0c3515'), (b'x-ratelimit-remaining-requests', b'8'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'c6028899-03fd-4cb7-a8c7-abbc7d04493e'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'azureml-model-session', b'd014-20240716165120'), (b'x-content-type-options', b'nosniff'), (b'x-envoy-upstream-service-time', b'2515'), (b'x-ms-client-request-id', b'82cfa004-b2f2-4c9f-a6b9-e7a39f0c3515'), (b'x-ratelimit-remaining-tokens', b'6178'), (b'Date', b'Wed, 31 Jul 2024 02:29:07 GMT')])
2024-07-31 10:29:07,747 - httpx - INFO - HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2024-07-31 10:29:07,747 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-07-31 10:29:07,748 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-07-31 10:29:07,748 - httpcore.http11 - DEBUG - response_closed.started
2024-07-31 10:29:07,748 - httpcore.http11 - DEBUG - response_closed.complete
2024-07-31 10:29:07,748 - openai._base_client - DEBUG - HTTP Response: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "200 OK" Headers({'content-length': '1408', 'content-type': 'application/json', 'x-ms-region': 'East US', 'apim-request-id': '82cfa004-b2f2-4c9f-a6b9-e7a39f0c3515', 'x-ratelimit-remaining-requests': '8', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'c6028899-03fd-4cb7-a8c7-abbc7d04493e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'azureml-model-session': 'd014-20240716165120', 'x-content-type-options': 'nosniff', 'x-envoy-upstream-service-time': '2515', 'x-ms-client-request-id': '82cfa004-b2f2-4c9f-a6b9-e7a39f0c3515', 'x-ratelimit-remaining-tokens': '6178', 'date': 'Wed, 31 Jul 2024 02:29:07 GMT'})
2024-07-31 10:29:07,748 - openai._base_client - DEBUG - request_id: c6028899-03fd-4cb7-a8c7-abbc7d04493e
2024-07-31 10:29:12,088 - app.api.v1.endpoints.example_post - INFO - Received request with data: [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]
2024-07-31 10:29:12,105 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'api-key': 'b6133f8c130a4d659443d29871845c80'}, 'files': None, 'json_data': {'messages': [{'content': "請您擔任一名客戶成功經理，我將提供您提供一段客戶與客服的對話。你需要從對話中擷取出重要的客戶訊息，將原始訊息簡化並概述為關鍵訊息，請提取關鍵標籤，也就是訊息中的重點，假設無法辨認訊息，或是惡作劇訊息，請在'category'輸出'無法辨識訊息'。\n    將結果以 JSON 格式輸出，key為'labels'，其中'labels'可能包含多個訊息，每個訊息使用一個 object，並包含兩個 keys：'message' 和 'category'。\n    ", 'role': 'system'}, {'content': " 對話內容： [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]", 'role': 'user'}], 'model': 'gpt-3.5-turbo', 'logprobs': False, 'n': 1, 'stream': False, 'temperature': 0.3}}
2024-07-31 10:29:12,106 - openai._base_client - DEBUG - Sending HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01
2024-07-31 10:29:12,106 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-07-31 10:29:12,106 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-07-31 10:29:12,107 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-07-31 10:29:12,108 - httpcore.http11 - DEBUG - send_request_body.complete
2024-07-31 10:29:12,108 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-07-31 10:29:13,578 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1408'), (b'Content-Type', b'application/json'), (b'x-ms-region', b'East US'), (b'apim-request-id', b'77b886cc-fe43-4b9c-bba0-92f239cd0081'), (b'x-ratelimit-remaining-requests', b'8'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'4cce8e5c-fe9f-4093-bca2-6d413a28bd06'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'azureml-model-session', b'd028-20240717064305'), (b'x-content-type-options', b'nosniff'), (b'x-envoy-upstream-service-time', b'1166'), (b'x-ms-client-request-id', b'77b886cc-fe43-4b9c-bba0-92f239cd0081'), (b'x-ratelimit-remaining-tokens', b'5402'), (b'Date', b'Wed, 31 Jul 2024 02:29:12 GMT')])
2024-07-31 10:29:13,579 - httpx - INFO - HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2024-07-31 10:29:13,580 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-07-31 10:29:13,580 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-07-31 10:29:13,580 - httpcore.http11 - DEBUG - response_closed.started
2024-07-31 10:29:13,580 - httpcore.http11 - DEBUG - response_closed.complete
2024-07-31 10:29:13,580 - openai._base_client - DEBUG - HTTP Response: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "200 OK" Headers({'content-length': '1408', 'content-type': 'application/json', 'x-ms-region': 'East US', 'apim-request-id': '77b886cc-fe43-4b9c-bba0-92f239cd0081', 'x-ratelimit-remaining-requests': '8', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '4cce8e5c-fe9f-4093-bca2-6d413a28bd06', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'azureml-model-session': 'd028-20240717064305', 'x-content-type-options': 'nosniff', 'x-envoy-upstream-service-time': '1166', 'x-ms-client-request-id': '77b886cc-fe43-4b9c-bba0-92f239cd0081', 'x-ratelimit-remaining-tokens': '5402', 'date': 'Wed, 31 Jul 2024 02:29:12 GMT'})
2024-07-31 10:29:13,581 - openai._base_client - DEBUG - request_id: 4cce8e5c-fe9f-4093-bca2-6d413a28bd06
2024-07-31 10:29:19,147 - app.api.v1.endpoints.example_post - INFO - Received request with data: [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]
2024-07-31 10:29:19,156 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'api-key': 'b6133f8c130a4d659443d29871845c80'}, 'files': None, 'json_data': {'messages': [{'content': "請您擔任一名客戶成功經理，我將提供您提供一段客戶與客服的對話。你需要從對話中擷取出重要的客戶訊息，將原始訊息簡化並概述為關鍵訊息，請提取關鍵標籤，也就是訊息中的重點，假設無法辨認訊息，或是惡作劇訊息，請在'category'輸出'無法辨識訊息'。\n    將結果以 JSON 格式輸出，key為'labels'，其中'labels'可能包含多個訊息，每個訊息使用一個 object，並包含兩個 keys：'message' 和 'category'。\n    ", 'role': 'system'}, {'content': " 對話內容： [{ role: 'customer', message: '這個產品的包裝太簡陋了，不像是高端產品。' },{ role: 'agent', message: '非常抱歉讓您失望了，我們會將您的反饋反映給相關部門，改進包裝設計。' },{ role: 'customer', message: '希望你們能改進，這樣才對得起這個價格。' },{ role: 'agent', message: '我們會努力改進，謝謝您的寶貴意見。' },{ role: 'customer', message: '好的，希望下次有更好的體驗。' },{ role: 'agent', message: '感謝！' },]", 'role': 'user'}], 'model': 'gpt-3.5-turbo', 'logprobs': False, 'n': 1, 'stream': False, 'temperature': 0.3}}
2024-07-31 10:29:19,157 - openai._base_client - DEBUG - Sending HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01
2024-07-31 10:29:19,157 - httpcore.connection - DEBUG - close.started
2024-07-31 10:29:19,157 - httpcore.connection - DEBUG - close.complete
2024-07-31 10:29:19,157 - httpcore.connection - DEBUG - connect_tcp.started host='generevo-eastus-oai.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2024-07-31 10:29:19,410 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10cf0b140>
2024-07-31 10:29:19,410 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1095d9d50> server_hostname='generevo-eastus-oai.openai.azure.com' timeout=None
2024-07-31 10:29:20,034 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10cf0b7d0>
2024-07-31 10:29:20,034 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-07-31 10:29:20,035 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-07-31 10:29:20,035 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-07-31 10:29:20,035 - httpcore.http11 - DEBUG - send_request_body.complete
2024-07-31 10:29:20,035 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-07-31 10:29:21,566 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'1408'), (b'Content-Type', b'application/json'), (b'x-ms-region', b'East US'), (b'apim-request-id', b'49a13996-119a-4778-bdd1-a14ff6b90a28'), (b'x-ratelimit-remaining-requests', b'8'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'67bbea16-90ac-4b98-94ca-15b209ca6b57'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'azureml-model-session', b'd040-20240717201551'), (b'x-content-type-options', b'nosniff'), (b'x-envoy-upstream-service-time', b'1259'), (b'x-ms-client-request-id', b'49a13996-119a-4778-bdd1-a14ff6b90a28'), (b'x-ratelimit-remaining-tokens', b'4626'), (b'Date', b'Wed, 31 Jul 2024 02:29:20 GMT')])
2024-07-31 10:29:21,567 - httpx - INFO - HTTP Request: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2024-07-31 10:29:21,567 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-07-31 10:29:21,568 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-07-31 10:29:21,568 - httpcore.http11 - DEBUG - response_closed.started
2024-07-31 10:29:21,568 - httpcore.http11 - DEBUG - response_closed.complete
2024-07-31 10:29:21,568 - openai._base_client - DEBUG - HTTP Response: POST https://generevo-eastus-oai.openai.azure.com//openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "200 OK" Headers({'content-length': '1408', 'content-type': 'application/json', 'x-ms-region': 'East US', 'apim-request-id': '49a13996-119a-4778-bdd1-a14ff6b90a28', 'x-ratelimit-remaining-requests': '8', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '67bbea16-90ac-4b98-94ca-15b209ca6b57', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'azureml-model-session': 'd040-20240717201551', 'x-content-type-options': 'nosniff', 'x-envoy-upstream-service-time': '1259', 'x-ms-client-request-id': '49a13996-119a-4778-bdd1-a14ff6b90a28', 'x-ratelimit-remaining-tokens': '4626', 'date': 'Wed, 31 Jul 2024 02:29:20 GMT'})
2024-07-31 10:29:21,568 - openai._base_client - DEBUG - request_id: 67bbea16-90ac-4b98-94ca-15b209ca6b57
